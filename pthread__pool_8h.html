<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TinyChatEngine: kernels/pthread_pool.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TinyChatEngine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d3fd84b2e4114076d2551689812cf799.html">kernels</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pthread_pool.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="pthread__pool_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a414561dad8af7224cdbd531e3d9e4a0a" id="r_a414561dad8af7224cdbd531e3d9e4a0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrix3D.html">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a414561dad8af7224cdbd531e3d9e4a0a">pool_start</a> (<a class="el" href="classMatrix3D.html">void</a> *(*<a class="el" href="classMatrix3D.html">thread_func</a>)(<a class="el" href="classMatrix3D.html">void</a> *), <a class="el" href="classMatrix3D.html">unsigned</a> <a class="el" href="classMatrix3D.html">int</a> threads)</td></tr>
<tr class="separator:a414561dad8af7224cdbd531e3d9e4a0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a373d27638bc2b8532edfe6ab056ba" id="r_a25a373d27638bc2b8532edfe6ab056ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrix3D.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25a373d27638bc2b8532edfe6ab056ba">pool_enqueue</a> (<a class="el" href="classMatrix3D.html">void</a> *<a class="el" href="structpool.html">pool</a>, <a class="el" href="classMatrix3D.html">void</a> *arg, <a class="el" href="classMatrix3D.html">char</a> free)</td></tr>
<tr class="separator:a25a373d27638bc2b8532edfe6ab056ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314c9adaec7a7ad64fe9e5b8bfa3fbd1" id="r_a314c9adaec7a7ad64fe9e5b8bfa3fbd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrix3D.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a314c9adaec7a7ad64fe9e5b8bfa3fbd1">pool_wait</a> (<a class="el" href="classMatrix3D.html">void</a> *<a class="el" href="structpool.html">pool</a>)</td></tr>
<tr class="separator:a314c9adaec7a7ad64fe9e5b8bfa3fbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed215fb1f5e6933bf970bf089a16e5c" id="r_a7ed215fb1f5e6933bf970bf089a16e5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrix3D.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ed215fb1f5e6933bf970bf089a16e5c">pool_end</a> (<a class="el" href="classMatrix3D.html">void</a> *<a class="el" href="structpool.html">pool</a>)</td></tr>
<tr class="separator:a7ed215fb1f5e6933bf970bf089a16e5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file provides prototypes for an implementation of a pthread pool. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a7ed215fb1f5e6933bf970bf089a16e5c" name="a7ed215fb1f5e6933bf970bf089a16e5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ed215fb1f5e6933bf970bf089a16e5c">&#9670;&#160;</a></span>pool_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrix3D.html">void</a> pool_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMatrix3D.html">void</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop all threads in the pool.</p>
<p>Note that this function will block until all threads have terminated. All queued items will also be freed, along with the pool itself. Remaining work item arguments will be freed depending on the free argument to pool_enqueue. </p>

</div>
</div>
<a id="a25a373d27638bc2b8532edfe6ab056ba" name="a25a373d27638bc2b8532edfe6ab056ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25a373d27638bc2b8532edfe6ab056ba">&#9670;&#160;</a></span>pool_enqueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrix3D.html">void</a> pool_enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMatrix3D.html">void</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrix3D.html">void</a> *</td>          <td class="paramname"><span class="paramname"><em>arg</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrix3D.html">char</a></td>          <td class="paramname"><span class="paramname"><em>free</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enqueue a new task for the thread pool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>A thread pool returned by start_pool. </td></tr>
    <tr><td class="paramname">arg</td><td>The argument to pass to the thread worker function. </td></tr>
    <tr><td class="paramname">free</td><td>If true, the argument will be freed after the task has completed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a414561dad8af7224cdbd531e3d9e4a0a" name="a414561dad8af7224cdbd531e3d9e4a0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a414561dad8af7224cdbd531e3d9e4a0a">&#9670;&#160;</a></span>pool_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrix3D.html">void</a> * pool_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMatrix3D.html">void</a> *(*)(<a class="el" href="classMatrix3D.html">void</a> *)</td>          <td class="paramname"><span class="paramname"><em>thread_func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrix3D.html">unsigned</a> <a class="el" href="classMatrix3D.html">int</a></td>          <td class="paramname"><span class="paramname"><em>threads</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new thread pool.</p>
<p>New tasks should be enqueued with pool_enqueue. thread_func will be called once per queued task with its sole argument being the argument given to pool_enqueue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread_func</td><td>The function executed by each thread for each work item. </td></tr>
    <tr><td class="paramname">threads</td><td>The number of threads in the pool. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the thread pool. </dd></dl>

</div>
</div>
<a id="a314c9adaec7a7ad64fe9e5b8bfa3fbd1" name="a314c9adaec7a7ad64fe9e5b8bfa3fbd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a314c9adaec7a7ad64fe9e5b8bfa3fbd1">&#9670;&#160;</a></span>pool_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrix3D.html">void</a> pool_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMatrix3D.html">void</a> *</td>          <td class="paramname"><span class="paramname"><em>pool</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for all queued tasks to be completed. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
